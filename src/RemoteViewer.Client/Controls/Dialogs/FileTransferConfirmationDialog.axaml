<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mi="using:Material.Icons.Avalonia"
        xmlns:controls="using:RemoteViewer.Client.Controls"
        xmlns:dialogs="using:RemoteViewer.Client.Controls.Dialogs"
        xmlns:theme="using:RemoteViewer.Client.Themes"
        x:Class="RemoteViewer.Client.Controls.Dialogs.FileTransferConfirmationDialog"
        x:DataType="dialogs:FileTransferConfirmationDialogViewModel"
        Title="Incoming File"
        Icon="/Assets/avalonia-logo.ico"
        SizeToContent="WidthAndHeight"
        CanResize="False"
        ShowInTaskbar="False"
        WindowStartupLocation="CenterOwner">

    <Border Padding="{theme:Spacing XL}" MinWidth="320" MaxWidth="400">

        <StackPanel Spacing="{theme:Spacing LG}">

            <!-- Header -->
            <controls:DialogHeader Icon="FileDownload"
                                   IconForeground="{DynamicResource ToastInfoAccentBrush}"
                                   IconBackground="{DynamicResource BadgeBackgroundBrush}"
                                   Title="Incoming File"
                                   Subtitle="{Binding SenderDisplayName, StringFormat='From {0}'}"/>

            <!-- File info card -->
            <controls:Card>
                <Grid ColumnDefinitions="Auto,*">
                    <controls:Icon Grid.Column="0"
                                  Kind="File"
                                  Size="SM"
                                  Margin="{theme:Spacing Right=MD}"
                                  VerticalAlignment="Center"
                                  Foreground="{DynamicResource SystemControlDisabledBaseMediumLowBrush}"/>
                    <StackPanel Grid.Column="1" Spacing="{theme:Spacing XXS}">
                        <TextBlock Text="{Binding FileName}"
                                   Classes="h3"
                                   TextTrimming="CharacterEllipsis"
                                   ToolTip.Tip="{Binding FileName}"/>
                        <TextBlock Text="{Binding FileSizeFormatted}"
                                   Classes="m1"/>
                    </StackPanel>
                </Grid>
            </controls:Card>

            <!-- Action buttons -->
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="{theme:Spacing SM}"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Button Grid.Column="0"
                        HorizontalAlignment="Stretch"
                        Click="OnRejectClicked">
                    <StackPanel Orientation="Horizontal" Spacing="{theme:Spacing SM}">
                        <controls:Icon Kind="Close" Size="XXS"/>
                        <TextBlock Text="Reject" VerticalAlignment="Center"/>
                    </StackPanel>
                </Button>

                <Button Grid.Column="2"
                        Classes="accent"
                        HorizontalAlignment="Stretch"
                        Click="OnAcceptClicked">
                    <StackPanel Orientation="Horizontal" Spacing="{theme:Spacing SM}">
                        <controls:Icon Kind="Check" Size="XXS"/>
                        <TextBlock Text="Accept" VerticalAlignment="Center"/>
                    </StackPanel>
                </Button>
            </Grid>

        </StackPanel>
    </Border>
</Window>
